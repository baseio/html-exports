<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script src="../../node_modules/webcomponents.js/webcomponents.js"></script>
  <script src="../../node_modules/web-component-tester/browser.js"></script>
  <script src="../../node_modules/es6-module-loader/dist/es6-module-loader.src.js"></script>
  <script src="../../dist/html-exports.dev.js"></script>
  <script src="../shared/fixtures.js"></script>
</head>
<body>
  <script>
    var fixtures = importFixtures('resources.html');

    var styled = document.createElement('span')
    styled.classList.add('fixture-word')
    document.body.appendChild(styled)

    specify('resources don\'t screw with the module loading process', function() {
      expect(fixtures.resources.sentinel.textContent).to.equal('loaded')
    })

    specify('<script src=""> loads relative to the module', function() {
      expect(window.SCRIPT_FIXTURE_LOADED).to.equal(true)
    })

    specify('<link rel="stylesheet"> loads relative to the module', function() {
      expect(styled.style.color).to.equal('red')
    })

    specify('CSS @import loads relative to the module', function() {
      expect(styled.style.backgroundColor).to.equal('blue')
    })

    specify('Nested CSS @import loads relative to the stylesheet', function() {
      expect(styled.style.borderColor).to.equal('green')
    })

    specify('<link rel="import"> loads relative to the module', function() {
      expect(window.IMPORT_FIXTURE_LOADED).to.equal(true)
    })

  </script>
</body>
</html>
